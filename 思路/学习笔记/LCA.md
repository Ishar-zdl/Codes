向上标记(暴力)每次最差 $O(n)$ 
树上倍增(暴力的优化)，设 $F_{x,k}$ 表示 $x$ 节点的 $2^k$ 辈祖先。关系式 $F_{x,k}=F_{F_{x,k-1},k-1}$ 搜索进行预处理，时间复杂度 $O(n\log n)$
每次询问时间复杂度为 $O(\log n)$ 每次先将深度大的点上调至另一个点的深度，然后同时倍增上调
依次尝试走 $k=2^{\log n},\ldots,2^1,2^0$ 步，若仍未相会，则令 $x=F_{x,k},y=F_{y,k}$ ，此时 $x,y$ 必定只差一步相会，他们的父节点就是 LCA