## $ \texttt {kotori} $

### 题目背景

![](https://cdn.luogu.com.cn/upload/image_hosting/kqi5yig1.png)

風になびいたリボンは「风吹过那丝带」

勇気を少しくれるの「给我了些许勇气」

きみがどこまでも優しく「你的温柔无边无际」

明日で待っていて笑うから「明天我也等你的微笑」

### 题目描述

琴里的飞船中有 $ n $ 个人，其中有 $ n - 1 $ 个通道，所以飞船的内部是一个树形结构。每个人从 $ 1\sim n $ 编号，编号越小代表这个人的投票经验最丰富。  

每个人有一个投票装置，初始都没有启动。现在琴里希望她的飞船支持 $ q $ 次操作，每次操作是以下两种行动之一：  

1. 把第 $ x $ 个人的投票装置启动。  

2. 由于每个人都想向经验最丰富的人咨询决策，但又不想绕路地去往一个装置前投票，所以还需要快速查询第 $ x $ 个人到任意一个投票装置的简单路径上的编号最小的人。  

### 输入格式

从文件 $ \texttt {kotori.in} $ 中读入数据。  

第 $ 1 $ 行，两个整数 $ n $ 和 $ q $。  

接下来 $ n - 1 $ 行，每行两个整数 $ a_i $ 和 $ b_i $，分别表示树的每条边。  

接下来 $ q $ 行，每行两个整数 `1 x` 或 `2 x`，分别表示每次操作。  

**本题强制在线**，请令 $ x \leftarrow (x + las) \bmod n + 1 $，其中 $las$ 为上次查询的答案，初始时 $ las = 0 $。  

保证第 $ 1 $ 次操作为操作 $ 1 $。  

### 输出格式

输出到 $ \texttt {kotori.out} $ 中。  

一共若干行，每行仅一个整数，分别表示每次操作 $ 2 $ 的答案。  

### 样例

#### 样例 1

##### 样例 1 输入（$ \texttt {kotori/kotori1.in} $）

```plain
4 6
1 2
2 3
3 4
1 2
1 2
2 2
1 3
2 2
2 2
```

##### 样例 1 输出（$ \texttt {kotori/kotori1.ans} $）

```plain
3
2
1
```

##### 样例 1 解释

解密后的操作为：  

```plain
1 3
1 3
2 3
1 3
2 2
2 1
```

该样例中的树是一条链，唯一启动的投票装置是 $ 3 $ 号点。  

第 $ 1 $ 次询问 `2 3`，路径为 $ 3 $，编号最小的是 $ 3 $。  
第 $ 2 $ 次询问 `2 2`，路径为 $ 2 \to 3 $，编号最小的是 $ 2 $。  
第 $ 3 $ 次询问 `2 1`，路径为 $ 1 \to 2 \to 3 $，编号最小的是 $ 1 $。  

#### 样例 2

见下发文件中的 $ \texttt {kotori/kotori2.in} $ 和 $ \texttt {kotori/kotori2.in} $。  

该样例满足 $ \texttt {Subtask 1} $ 的限制。  

#### 样例 3

见下发文件中的 $ \texttt {kotori/kotori3.in} $ 和 $ \texttt {kotori/kotori3.in} $。  

该样例满足 $ \texttt {Subtask 2} $ 的限制。  

#### 样例 4

见下发文件中的 $ \texttt {kotori/kotori4.in} $ 和 $ \texttt {kotori/kotori4.in} $。  

该样例满足 $ \texttt {Subtask 3} $ 的限制。  

### 数据范围与提示

**【数据范围】**

对于 $ 100\% $ 的数据：满足 $ 1 \leq n, q \leq 10^6 $，$ 1 \leq a_i, b_i \leq n $，$ 1 \leq x \leq n $。  

**【评测方式 & 得分规则】**

对于每个测试点，采用 **全文比较（过滤行末空格及文末回车）** 评测方式。  

**本题采用捆绑测试。** 详情见下表：  

| $ \texttt {Subtask} $ | 测试点编号 | $ n $ | $ q $ | 特殊性质 | 分值 | 子任务依赖 |
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| $ 1 $ | $ 1 \sim 15 $ | $ \leq 10^3 $ | $ \leq 10^3 $ | 无 | $ 25 $ | 无 |
| $ 2 $ | $ 16 \sim 30 $ | $ \leq 10^3 $ | $ \leq 10^6 $ | 无 | $ 30 $ | $ 1 $ |
| $ 3 $ | $ 31 \sim 50 $ | $ \leq 10^6 $ | $ \leq 10^6 $ | 无 | $ 45 $ | $ 1, 2 $ |

**【注意事项】**

本题输入量很大，请使用合适的输入输出方式。  
